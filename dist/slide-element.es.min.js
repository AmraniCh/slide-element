/**
  * slide-element
  * Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)
  * URL: https://github.com/alexmacarthur/slide-element
  */
const t=["height","paddingTop","paddingBottom"],n={duration:.25,timingFunction:"ease"},o=(n,o,e=t)=>{for(let t in o)e.includes(t)||delete o[t];Object.assign(n.style,o)},e=t=>t.replace(/-([a-z])/g,(t=>t[1].toUpperCase())),i=(n,o)=>new Promise((i=>{const a=o.reduce(((t,o)=>(t.push(((t,n)=>new Promise((o=>{const i=function(d){e(d.propertyName)===n&&(((t,n)=>{t.removeEventListener("transitionend",n),t.removeEventListener("transitioncancel",n)})(t,i),o())};((t,n)=>{t.addEventListener("transitionend",n),t.addEventListener("transitioncancel",n)})(t,i)})))(n,o)),t)),[]);return Promise.all(a).then((()=>{d(n,[...t,"overflow","transitionProperty","transitionDuration","transitionTimingFunction"]),i()}))})),d=(t,n)=>{n.forEach((n=>t.style[n]=""))},a=t=>window.getComputedStyle(t),r=(t,n,e,d)=>{const{fromTopPadding:r,fromBottomPadding:s,fromHeight:p,toTopPadding:g,toBottomPadding:m,toHeight:c}=e,h=(l={paddingTop:[r,g],paddingBottom:[s,m],height:[p,c]},Object.keys(l).reduce(((t,n)=>{const o=l[n].map((t=>parseInt(t,10)));return o[0]==o[1]||t.push(n),t}),[]));var l;i(t,h).then(d),o(t,{paddingTop:r,paddingBottom:s,height:p},h),((t,n)=>{const o=a(t),{duration:e,timingFunction:i}=n,d={overflow:"hidden",transitionProperty:"padding, height",transitionDuration:e+"s",transitionTimingFunction:i};for(let t in d)o[t]===d[t]&&delete d[t];Object.assign(t.style,d)})(t,n),requestAnimationFrame((()=>{requestAnimationFrame((()=>{o(t,{paddingTop:g,paddingBottom:m,height:c},h)}))}))},s=(t,o=n)=>new Promise((n=>{t.dataset.isSlidOpen="true",t.style.display="block";const e=a(t);r(t,o,{fromTopPadding:"0px",fromBottomPadding:"0px",fromHeight:"0px",toTopPadding:e.paddingTop,toBottomPadding:e.paddingBottom,toHeight:e.height},(()=>{n(!0)}))})),p=(t,o=n)=>new Promise((n=>{const e=a(t);r(t,o,{fromTopPadding:e.paddingTop,fromBottomPadding:e.paddingBottom,toTopPadding:"0px",toBottomPadding:"0px",fromHeight:e.height,toHeight:"0px"},(()=>{delete t.dataset.isSlidOpen,t.style.display="none",n(!1)}))})),g=(t,o=n)=>t.dataset.isSlidOpen?p(t,o):s(t,o);export{s as down,g as toggle,p as up};
