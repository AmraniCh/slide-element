/**
  * slide-element
  * Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)
  * URL: https://github.com/alexmacarthur/slide-element
  */
const t=["height","paddingTop","paddingBottom"],o={duration:.25,timingFunction:"ease"},n=(o,n,i=t)=>{t.forEach(t=>{i.includes(t)&&(o.style[t]=n[t])})},i=t=>t.replace(/-([a-z])/g,t=>t[1].toUpperCase()),e=(t,o)=>new Promise(e=>{const d=o.reduce((o,n)=>(o.push(((t,o)=>new Promise(n=>{const e=function(d){i(d.propertyName)===o&&(((t,o)=>{t.removeEventListener("transitionend",o),t.removeEventListener("transitioncancel",o)})(t,e),n())};((t,o)=>{t.addEventListener("transitionend",o),t.addEventListener("transitioncancel",o)})(t,e)}))(t,n)),o),[]);return Promise.all(d).then(()=>{n(t,{paddingTop:"",paddingBottom:"",height:""}),e()})}),d=(t,{duration:o,timingFunction:n}=options)=>{const i=a(t);console.log(o);const e={overflow:"hidden",transitionProperty:"padding, height",transitionDuration:o+"s",transitionTimingFunction:n};for(let o in e)i[o]!==e[o]&&(t.style[o]=e[o])},a=t=>window.getComputedStyle(t),p=(t,o,i)=>{const{fromTopPadding:d,fromBottomPadding:a,fromHeight:p,toTopPadding:r,toBottomPadding:s,toHeight:g}=o,m=(h={paddingTop:[d,r],paddingBottom:[a,s],height:[p,g]},Object.keys(h).reduce((t,o)=>{const n=h[o].map(t=>parseInt(t,10));return n[0]==n[1]||t.push(o),t},[]));var h;e(t,m).then(i),n(t,{paddingTop:d,paddingBottom:a,height:p},m),requestAnimationFrame(()=>{requestAnimationFrame(()=>{n(t,{paddingTop:r,paddingBottom:s,height:g},m)})})},r=(t,n=o)=>new Promise(o=>{d(t,n),t.dataset.isSlidOpen=!0,t.style.display="block";const i=a(t);p(t,{fromTopPadding:"0px",fromBottomPadding:"0px",fromHeight:"0px",toTopPadding:i.paddingTop,toBottomPadding:i.paddingBottom,toHeight:i.height},()=>{console.log("down finished"),o()})}),s=(t,n=o)=>new Promise(o=>{d(t,n);const i=a(t);p(t,{fromTopPadding:i.paddingTop,fromBottomPadding:i.paddingBottom,toTopPadding:"0px",toBottomPadding:"0px",fromHeight:i.height,toHeight:"0px"},()=>{delete t.dataset.isSlidOpen,t.style.display="none",o()})}),g=(t,n=o)=>t.dataset.isSlidOpen?s(t,n):r(t,n);export{r as down,g as toggle,s as up};
