/**
  * slide-element
  * Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)
  * URL: https://github.com/alexmacarthur/slide-element
  */
const t=["height","paddingTop","paddingBottom"],n={duration:.25,timingFunction:"ease"},o=(n,o,i=t)=>{for(let t in o)i.includes(t)||delete o[t];Object.assign(n.style,o)},i=t=>t.replace(/-([a-z])/g,t=>t[1].toUpperCase()),e=(n,o)=>new Promise(e=>{const a=o.reduce((t,o)=>(t.push(((t,n)=>new Promise(o=>{const e=function(d){i(d.propertyName)===n&&(((t,n)=>{t.removeEventListener("transitionend",n),t.removeEventListener("transitioncancel",n)})(t,e),o())};((t,n)=>{t.addEventListener("transitionend",n),t.addEventListener("transitioncancel",n)})(t,e)}))(n,o)),t),[]);return Promise.all(a).then(()=>{d(n,[...t,"overflow","transitionProperty","transitionDuration","transitionTimingFunction"]),e()})}),d=(t,n)=>{n.forEach(n=>t.style[n]="")},a=(t,{duration:n,timingFunction:o}=options)=>{const i=r(t),e={overflow:"hidden",transitionProperty:"padding, height",transitionDuration:n+"s",transitionTimingFunction:o};for(let t in e)i[t]===e[t]&&delete e[t];Object.assign(t.style,e)},r=t=>window.getComputedStyle(t),s=(t,n,i,d)=>{const{fromTopPadding:r,fromBottomPadding:s,fromHeight:p,toTopPadding:g,toBottomPadding:m,toHeight:c}=i,h=(l={paddingTop:[r,g],paddingBottom:[s,m],height:[p,c]},Object.keys(l).reduce((t,n)=>{const o=l[n].map(t=>parseInt(t,10));return o[0]==o[1]||t.push(n),t},[]));var l;e(t,h).then(d),o(t,{paddingTop:r,paddingBottom:s,height:p},h),a(t,n),requestAnimationFrame(()=>{requestAnimationFrame(()=>{o(t,{paddingTop:g,paddingBottom:m,height:c},h)})})},p=(t,o=n)=>new Promise(n=>{t.dataset.isSlidOpen=!0,t.style.display="block";const i=r(t);s(t,o,{fromTopPadding:"0px",fromBottomPadding:"0px",fromHeight:"0px",toTopPadding:i.paddingTop,toBottomPadding:i.paddingBottom,toHeight:i.height},()=>{n()})}),g=(t,o=n)=>new Promise(n=>{const i=r(t);s(t,o,{fromTopPadding:i.paddingTop,fromBottomPadding:i.paddingBottom,toTopPadding:"0px",toBottomPadding:"0px",fromHeight:i.height,toHeight:"0px"},()=>{delete t.dataset.isSlidOpen,t.style.display="none",n()})}),m=(t,o=n)=>t.dataset.isSlidOpen?g(t,o):p(t,o);export{p as down,m as toggle,g as up};
