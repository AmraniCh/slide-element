let e=(e,t)=>{let r=["transitionend","transitioncancel"],n=()=>e.clientHeight,i=()=>e.style,o=e=>i().display=e,s=(e=!1)=>{let r=Object.assign({height:"",overflow:"hidden",transitionDuration:".25s",transitionTimingFunction:"ease"},t);Object.entries(r).forEach(([t,r])=>{i()[t]=e?"":r})},c=t=>new Promise(o=>{s();let c=[n()+"px","0px"];t&&c.reverse();let[u,a]=c;new Promise(t=>{r.forEach((n,i)=>{e.addEventListener(n,o=>{e.dispatchEvent(new TransitionEvent(o.type==n?r[i^=1]:n)),t()},{once:!0})})}).then(()=>{s(!0),o()}),i().height=u,requestAnimationFrame(()=>{requestAnimationFrame(()=>{i().height=a})})}),u=function(){try{return Promise.resolve(c(!1)).then(function(){return o("none"),Promise.resolve(!1)})}catch(e){return Promise.reject(e)}},a=function(){try{return o("block"),Promise.resolve(c(!0)).then(function(){return Promise.resolve(!0)})}catch(e){return Promise.reject(e)}};return{up:u,down:a,toggle:()=>n()?u():a()}},t=function(t,r={}){try{return Promise.resolve(e(t,r).down())}catch(e){return Promise.reject(e)}},r=function(t,r={}){try{return Promise.resolve(e(t,r).up())}catch(e){return Promise.reject(e)}},n=(t,r={})=>e(t,r).toggle();export{t as down,n as toggle,r as up};
